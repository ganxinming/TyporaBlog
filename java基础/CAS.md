#### 1.Unsafe类

该类中的方法都是native修饰的，其内部方法操作可以像C的指针一样直接操作内存，所以是非安全的。

unsafe类中的方法都直接调用操作系统底层资源执行相应任务.

方法：

1.挂起和恢复：park()和unpark(),用于挂起线程。

2.内存屏障：相当于某些命令执行顺序(规定流水线指令)的规则，用于防止指令重排。



#### 2.原子操作类(Atomic系列)基于CAS

i++,不是原子性，可分为三步，取值，相加，赋值。

Atomic保证原子性。常用	:

- AtomicBoolean：原子更新布尔类型
- AtomicInteger：原子更新整型
- AtomicLong：原子更新长整型

## 3.CAS

V：内存值 A：预期值 B：成功后的赋值

不必担心多个线程同时操作，他是原子性指令。

#### 问题：ABA问题？

在获取到当前变量V，准备修改为新值U前，另外两个线程已连续修改了两次变量V的值，使得该值又恢复为旧值，这样的话，我们就无法正确判断这个变量是否已被修改过

#### 一般这种情况很少，也一般没什么影响。可以使用某些Atomic类解决。